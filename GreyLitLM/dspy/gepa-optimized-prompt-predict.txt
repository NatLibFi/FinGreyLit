markdown
## Instructions for Extracting Structured Metadata from PDF Text

### Task Overview
The goal is to extract structured metadata from the text content extracted from a PDF. The metadata should be formatted according to a predefined JSON schema. The task involves identifying key elements such as language, title, alternative titles, creators, year of publication, publisher, DOI, ISBNs, ISSNs, and type of resource.

### Input Format
The input will be a JSON object containing the following fields:
- `pdfinfo`: A dictionary with metadata about the PDF, including `title`, `author`, `creationDate`, and `modDate`.
- `pages`: A list of dictionaries, each containing a `page` number and the corresponding `text` extracted from that page.

### Detailed Task Description
1. **Language Detection**: Identify the language of the document.
2. **Title Extraction**: Extract the main title of the document.
3. **Alternative Titles**: Identify any alternative titles or subtitles.
4. **Creator Identification**: Extract the names of the creators/authors, formatting them as `Last Name, First Name`.
5. **Year of Publication**: Determine the year the document was published.
6. **Publisher Identification**: Identify the publisher of the document.
7. **DOI Extraction**: Extract the Digital Object Identifier (DOI) if available.
8. **ISBN Extraction**: Extract both electronic (e-ISBN) and print (p-ISBN) ISBNs if available.
9. **ISSN Extraction**: Extract both electronic (e-ISSN) and print (p-ISSN) ISSNs if available.
10. **Type of Resource**: Determine the type of resource (e.g., journal article, dissertation, thesis, etc.).

### Specific Guidelines
- **Language Detection**: Use the language code (e.g., `fi` for Finnish, `en` for English).
- **Title and Alternative Titles**: Ensure titles are accurate and match the text closely. Alternative titles should be listed if present.
- **Creator Identification**: Always format creator names as `Last Name, First Name`. Ensure all creators are included.
- **Year of Publication**: Extract the year from the text or metadata.
- **Publisher Identification**: Ensure the publisher is accurately identified and formatted.
- **DOI, ISBN, and ISSN**: Extract these identifiers if they are present in the text or metadata. Use the correct format for e-ISBN and p-ISBN.
- **Type of Resource**: Use specific terms like `doctoral thesis`, `master thesis`, `journal article`, etc., based on the content and context.

### Examples and Feedback
1. **Example 1**:
   - **Language**: `fi`
   - **Title**: `Kasvua kohti moniulotteista kehollisuutta`
   - **Creator**: `['Kauppinen, Petri']`
   - **Year**: `2020`
   - **Publisher**: `set()` (no specific publisher mentioned)
   - **Type**: `journal article`

2. **Example 2**:
   - **Language**: `en`
   - **Title**: `The locomotive behaviours of the tree-climbing fish, Periophthalmus variabilis: a cross-disciplinary approach to bioinspired design`
   - **Creator**: `['Wicaksono, Adhityo']`
   - **Year**: `2022`
   - **Publisher**: `['Åbo Akademi University']`
   - **Type**: `doctoral thesis`

3. **Example 3**:
   - **Language**: `fi`
   - **Title**: `”Muiden kulttuurien tuntemus rakentaa siltoja – se opettaa elämään yhdessä” : narratiivinen tutkimus kolmen musiikkikasvattajan kasvusta kohti interkulttuurista ymmärrystä`
   - **Creator**: `['Sihvola, Maija']`
   - **Year**: `2019`
   - **Publisher**: `['Sibelius-Akatemia']`
   - **Type**: `master thesis`

### General Strategy
- **Text Analysis**: Carefully analyze the text on each page to extract relevant metadata.
- **Metadata Cross-Verification**: Cross-verify extracted metadata with the PDF metadata (`pdfinfo`) to ensure accuracy.
- **Contextual Understanding**: Use contextual clues from the text to determine the type of resource and other metadata fields.

### Output Format
The output should be a JSON object with the following structure:
```json
{
    "language": "string",
    "title": "string",
    "alt_title": ["string"],
    "creator": ["string"],
    "year": "integer",
    "publisher": ["string"],
    "doi": "string",
    "e_isbn": ["string"],
    "p_isbn": ["string"],
    "e_issn": "string",
    "p_issn": "string",
    "type_coar": "string"
}
```
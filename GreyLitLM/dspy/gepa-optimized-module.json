{
  "predict": {
    "traces": [],
    "train": [],
    "demos": [],
    "signature": {
      "instructions": "markdown\n## Instructions for Extracting Structured Metadata from PDF Text\n\n### Task Overview\nThe goal is to extract structured metadata from the text content extracted from a PDF. The metadata should be formatted according to a predefined JSON schema. The task involves identifying key elements such as language, title, alternative titles, creators, year of publication, publisher, DOI, ISBNs, ISSNs, and type of resource.\n\n### Input Format\nThe input will be a JSON object containing the following fields:\n- `pdfinfo`: A dictionary with metadata about the PDF, including `title`, `author`, `creationDate`, and `modDate`.\n- `pages`: A list of dictionaries, each containing a `page` number and the corresponding `text` extracted from that page.\n\n### Detailed Task Description\n1. **Language Detection**: Identify the language of the document.\n2. **Title Extraction**: Extract the main title of the document.\n3. **Alternative Titles**: Identify any alternative titles or subtitles.\n4. **Creator Identification**: Extract the names of the creators/authors, formatting them as `Last Name, First Name`.\n5. **Year of Publication**: Determine the year the document was published.\n6. **Publisher Identification**: Identify the publisher of the document.\n7. **DOI Extraction**: Extract the Digital Object Identifier (DOI) if available.\n8. **ISBN Extraction**: Extract both electronic (e-ISBN) and print (p-ISBN) ISBNs if available.\n9. **ISSN Extraction**: Extract both electronic (e-ISSN) and print (p-ISSN) ISSNs if available.\n10. **Type of Resource**: Determine the type of resource (e.g., journal article, dissertation, thesis, etc.).\n\n### Specific Guidelines\n- **Language Detection**: Use the language code (e.g., `fi` for Finnish, `en` for English).\n- **Title and Alternative Titles**: Ensure titles are accurate and match the text closely. Alternative titles should be listed if present.\n- **Creator Identification**: Always format creator names as `Last Name, First Name`. Ensure all creators are included.\n- **Year of Publication**: Extract the year from the text or metadata.\n- **Publisher Identification**: Ensure the publisher is accurately identified and formatted.\n- **DOI, ISBN, and ISSN**: Extract these identifiers if they are present in the text or metadata. Use the correct format for e-ISBN and p-ISBN.\n- **Type of Resource**: Use specific terms like `doctoral thesis`, `master thesis`, `journal article`, etc., based on the content and context.\n\n### Examples and Feedback\n1. **Example 1**:\n   - **Language**: `fi`\n   - **Title**: `Kasvua kohti moniulotteista kehollisuutta`\n   - **Creator**: `['Kauppinen, Petri']`\n   - **Year**: `2020`\n   - **Publisher**: `set()` (no specific publisher mentioned)\n   - **Type**: `journal article`\n\n2. **Example 2**:\n   - **Language**: `en`\n   - **Title**: `The locomotive behaviours of the tree-climbing fish, Periophthalmus variabilis: a cross-disciplinary approach to bioinspired design`\n   - **Creator**: `['Wicaksono, Adhityo']`\n   - **Year**: `2022`\n   - **Publisher**: `['Åbo Akademi University']`\n   - **Type**: `doctoral thesis`\n\n3. **Example 3**:\n   - **Language**: `fi`\n   - **Title**: `”Muiden kulttuurien tuntemus rakentaa siltoja – se opettaa elämään yhdessä” : narratiivinen tutkimus kolmen musiikkikasvattajan kasvusta kohti interkulttuurista ymmärrystä`\n   - **Creator**: `['Sihvola, Maija']`\n   - **Year**: `2019`\n   - **Publisher**: `['Sibelius-Akatemia']`\n   - **Type**: `master thesis`\n\n### General Strategy\n- **Text Analysis**: Carefully analyze the text on each page to extract relevant metadata.\n- **Metadata Cross-Verification**: Cross-verify extracted metadata with the PDF metadata (`pdfinfo`) to ensure accuracy.\n- **Contextual Understanding**: Use contextual clues from the text to determine the type of resource and other metadata fields.\n\n### Output Format\nThe output should be a JSON object with the following structure:\n```json\n{\n    \"language\": \"string\",\n    \"title\": \"string\",\n    \"alt_title\": [\"string\"],\n    \"creator\": [\"string\"],\n    \"year\": \"integer\",\n    \"publisher\": [\"string\"],\n    \"doi\": \"string\",\n    \"e_isbn\": [\"string\"],\n    \"p_isbn\": [\"string\"],\n    \"e_issn\": \"string\",\n    \"p_issn\": \"string\",\n    \"type_coar\": \"string\"\n}\n```",
      "fields": [
        {
          "prefix": "Content:",
          "description": "${content}"
        },
        {
          "prefix": "Reasoning: Let's think step by step in order to",
          "description": "${reasoning}"
        },
        {
          "prefix": "Language:",
          "description": "The language of the resource expressed as a BCP47 language tag."
        },
        {
          "prefix": "Title:",
          "description": "The main title of the publication."
        },
        {
          "prefix": "Alt Title:",
          "description": "Alternative or parallel titles of the publication, suffixed with a BCP47 language tag in curly brackets."
        },
        {
          "prefix": "Creator:",
          "description": "The primary author(s) of the resource (order: Last Name, First Names)."
        },
        {
          "prefix": "Year:",
          "description": "The year on which the resource was issued or made available."
        },
        {
          "prefix": "Publisher:",
          "description": "The entity/entities responsible for making the resource available."
        },
        {
          "prefix": "Doi:",
          "description": "The Digital Object Identifier (DOI) associated with the resource."
        },
        {
          "prefix": "E Isbn:",
          "description": "The ISBN associated with the electronic resource."
        },
        {
          "prefix": "P Isbn:",
          "description": "The ISBN of the printed version of this document."
        },
        {
          "prefix": "E Issn:",
          "description": "The ISSN associated with the electronic resource."
        },
        {
          "prefix": "P Issn:",
          "description": "The ISSN of the printed version of this document."
        },
        {
          "prefix": "Type Coar:",
          "description": "The type of the resource according to the COAR Resource Types classification."
        }
      ]
    },
    "lm": null
  },
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.3",
      "cloudpickle": "3.1"
    }
  }
}
